# 作品ギャラリーサイト 実装手順書

**作成日**: 2026年2月18日  
**更新日**: 2026年2月19日  
**バージョン**: 2.1

---

## 1. 実装概要

本手順書では、サイバーパンク風のダークテーマ作品ギャラリーサイトの実装手順を記載する。

### 実装フェーズ
1. プロジェクト構造の作成
2. HTMLの実装
3. CSSの実装（ダークテーマ・ネオンエフェクト）
4. JavaScriptの実装（動画対応を含む）
5. スクロールアニメーションの実装
6. テスト・検証

---

## 2. プロジェクト構造

### 2.1 ディレクトリ構成
```
Galleryサイト/
 ├ index.html          # メインHTML
 ├ css/
 │   └ style.css       # ダークテーマスタイルシート
 ├ js/
 │   └ main.js         # JavaScript（作品データ含む）
 ├ img/                # サムネイル画像
 ├ video/              # 動画ファイル
 ├ pdf/                # PDFファイル
 └ docs/               # ドキュメント
```

---

## 3. HTML実装

### 3.1 基本構造
```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ポートフォリオギャラリー">
  <title>Portfolio Gallery | Y-Aoyama</title>
  <link rel="stylesheet" href="css/style.css">
  <!-- Google Fonts: Inter + Noto Sans JP -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- ヘッダー -->
  <!-- ヒーローセクション -->
  <!-- フィルターセクション -->
  <!-- ギャラリーセクション -->
  <!-- Aboutセクション -->
  <!-- フッター -->
  <!-- モーダル -->
  <!-- モバイルメニュー -->
  <script src="js/main.js"></script>
</body>
</html>
```

### 3.2 ヘッダー（X対応）
```html
<header class="header">
  <div class="header-container">
    <h1 class="logo">
      <a href="index.html">My work Gallery</a>
    </h1>
    <nav class="nav">
      <ul class="nav-list">
        <li><a href="#gallery" class="nav-link">Works</a></li>
        <li><a href="#about" class="nav-link">About</a></li>
        <li>
          <a href="https://x.com/Ren236_00" target="_blank" rel="noopener noreferrer" class="nav-link nav-link-x">
            <svg class="x-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </a>
        </li>
      </ul>
    </nav>
    <button class="mobile-menu-btn" aria-label="メニューを開く">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>
```

### 3.3 スクロールアニメーション対応要素
```html
<!-- フィルターセクション -->
<div class="search-container" data-scroll="fade-up">
  <!-- 検索ボックス -->
</div>
<div class="filter-buttons" data-scroll="fade-up" data-scroll-delay="2">
  <!-- フィルターボタン -->
</div>

<!-- Aboutセクション -->
<h2 class="section-title" data-scroll="fade-up">About<span class="accent">.</span></h2>
<div class="about-text" data-scroll="fade-right" data-scroll-delay="2">
  <!-- テキスト -->
</div>
<div class="stat-item" data-scroll="fade-up" data-scroll-delay="1">
  <!-- 統計項目 -->
</div>

<!-- フッター -->
<span class="cta-line" data-scroll="fade-up" data-scroll-delay="1">Let's</span>
<div class="skill-badge" data-scroll="scale-up" data-scroll-delay="1">
  <!-- スキルバッジ -->
</div>
<div class="footer-main" data-scroll="fade-up" data-scroll-delay="2">
  <!-- フッター内容 -->
</div>
```

### 3.4 モーダル（動画対応）
```html
<div class="modal" id="modal" role="dialog" aria-modal="true">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <button class="modal-close" aria-label="閉じる">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
    <div class="modal-body">
      <div class="modal-media-container" id="modalMediaContainer">
        <!-- 動的に画像または動画を生成 -->
      </div>
      <div class="modal-info">
        <span class="modal-category" id="modalCategory"></span>
        <h3 class="modal-title" id="modalTitle"></h3>
        <p class="modal-description" id="modalDescription"></p>
        <p class="modal-date" id="modalDate"></p>
        <div class="modal-links" id="modalLinks"></div>
      </div>
    </div>
  </div>
</div>
```

---

## 4. CSS実装（ダークテーマ）

### 4.1 CSS変数定義
```css
:root {
  /* Dark Theme Colors */
  --bg-primary: #030305;
  --bg-secondary: #080810;
  --bg-tertiary: #0c0c16;
  --bg-card: #0a0a14;
  
  /* Text Colors */
  --text-primary: #ffffff;
  --text-secondary: #8b9cb3;
  --text-muted: #5a6a7d;
  
  /* Accent Colors - Electric Neon */
  --accent-primary: #00ffff;
  --accent-secondary: #8b5cf6;
  --accent-tertiary: #ff00aa;
  --accent-gradient: linear-gradient(135deg, #00ffff 0%, #8b5cf6 50%, #ff00aa 100%);
  
  /* Glow Effects */
  --accent-glow: rgba(0, 255, 255, 0.6);
  --shadow-neon: 0 0 10px var(--accent-primary), 0 0 20px var(--accent-primary), 0 0 40px var(--accent-primary);
  --shadow-glow: 0 0 80px var(--accent-glow);
  
  /* Transitions */
  --transition-normal: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
```

### 4.2 背景エフェクト
```css
/* Animated Background with Gradient Orbs */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    radial-gradient(ellipse at 15% 15%, rgba(0, 255, 255, 0.1) 0%, transparent 35%),
    radial-gradient(ellipse at 85% 85%, rgba(139, 92, 246, 0.08) 0%, transparent 35%),
    radial-gradient(ellipse at 50% 50%, rgba(255, 0, 170, 0.04) 0%, transparent 50%);
  pointer-events: none;
  z-index: -1;
  animation: ambientGlow 10s ease-in-out infinite alternate;
}

@keyframes ambientGlow {
  0% { opacity: 1; filter: hue-rotate(0deg); }
  100% { opacity: 0.8; filter: hue-rotate(20deg); }
}
```

### 4.3 スクロールアニメーションCSS
```css
/* ===================================
   Scroll Animations
   =================================== */

/* Base scroll animation states */
[data-scroll] {
  opacity: 0;
  will-change: transform, opacity;
  transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

[data-scroll].is-visible {
  opacity: 1;
}

/* Fade Up Animation */
[data-scroll="fade-up"] {
  transform: translateY(60px);
}

[data-scroll="fade-up"].is-visible {
  transform: translateY(0);
}

/* Fade Right Animation */
[data-scroll="fade-right"] {
  transform: translateX(-60px);
}

[data-scroll="fade-right"].is-visible {
  transform: translateX(0);
}

/* Scale Up Animation */
[data-scroll="scale-up"] {
  transform: scale(0.85);
}

[data-scroll="scale-up"].is-visible {
  transform: scale(1);
}

/* Stagger Animation Delays */
[data-scroll-delay="1"] { transition-delay: 0.1s; }
[data-scroll-delay="2"] { transition-delay: 0.2s; }
[data-scroll-delay="3"] { transition-delay: 0.3s; }
[data-scroll-delay="4"] { transition-delay: 0.4s; }
[data-scroll-delay="5"] { transition-delay: 0.5s; }
[data-scroll-delay="6"] { transition-delay: 0.6s; }

/* Card Stagger Animation */
.card[data-scroll-stagger] {
  opacity: 0;
  transform: translateY(40px);
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}

.card[data-scroll-stagger].is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  [data-scroll],
  [data-scroll-stagger],
  .card[data-scroll-stagger] {
    opacity: 1;
    transform: none;
    filter: none;
    transition: none;
  }
}
```

### 4.4 カードホバーエフェクト
```css
.card {
  position: relative;
  background: var(--bg-card);
  border-radius: 20px;
  border: 1px solid var(--border-color);
  transition: all var(--transition-normal);
}

/* グラデーションボーダー */
.card::before {
  content: '';
  position: absolute;
  top: -1px;
  left: -1px;
  right: -1px;
  bottom: -1px;
  background: var(--accent-gradient);
  opacity: 0;
  transition: opacity var(--transition-normal);
  border-radius: 20px;
  z-index: 0;
}

.card:hover {
  transform: translateY(-16px) scale(1.02);
  box-shadow: var(--shadow-lg), 0 0 50px rgba(0, 255, 255, 0.15);
}

.card:hover::before {
  opacity: 1;
}
```

---

## 5. JavaScript実装

### 5.1 作品データ構造（動画対応）
```javascript
const portfolioData = [
  {
    id: 1,
    title: "MIRAGE - デジタルな悪夢の解体",
    category: "video",
    categoryLabel: "動画作品",
    thumbnail: "img/videoMIRAGEサムネ.png",
    image: "img/videoMIRAGEサムネ.png",
    video: "video/MIRAGE__デジタルな悪夢の解体.mp4",
    description: "AI動画作品の説明...",
    url: null,
    pdf: null,
    date: "2026年2月"
  },
  // その他の作品...
];
```

### 5.2 カード生成（再生アイコン・スクロールアニメーション付き）
```javascript
function createCard(item) {
  const card = document.createElement('div');
  card.className = 'card';
  card.dataset.category = item.category;
  card.dataset.id = item.id;
  card.dataset.scrollStagger = ''; // スクロールアニメーション属性を追加
  
  // 動画の場合は再生アイコンを追加
  const playIcon = item.video ? `
    <div class="play-icon">
      <svg viewBox="0 0 24 24" fill="currentColor">
        <polygon points="5 3 19 12 5 21 5 3"/>
      </svg>
    </div>
  ` : '';
  
  card.innerHTML = `
    <div class="card-image-container">
      <img src="${item.thumbnail}" alt="${item.title}" class="card-image" loading="lazy">
      ${playIcon}
      <div class="card-overlay">
        <h3 class="card-title">${item.title}</h3>
        <span class="card-category">${item.categoryLabel}</span>
      </div>
    </div>
    <div class="card-info">
      <h4 class="card-info-title">${item.title}</h4>
      <span class="card-info-category">${item.categoryLabel}</span>
    </div>
  `;
  
  card.addEventListener('click', () => openModal(item));
  return card;
}
```

### 5.3 スクロールアニメーション実装
```javascript
// ===================================
// スクロールアニメーション
// ===================================
function initScrollAnimations() {
  // Intersection Observerの設定
  const observerOptions = {
    root: null, // ビューポートを基準
    rootMargin: '0px 0px -80px 0px', // 下方向に80pxのマージン
    threshold: 0.1 // 10%見えたら発火
  };

  // スクロールアニメーション用Observer
  const scrollObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('is-visible');
        // 一度アニメーションしたら監視を解除（パフォーマンス最適化）
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  // data-scroll属性を持つ要素を監視
  const scrollElements = document.querySelectorAll('[data-scroll]');
  scrollElements.forEach(el => {
    scrollObserver.observe(el);
  });
}

// カードのスクロールアニメーションを更新
function refreshCardScrollAnimations() {
  const cards = document.querySelectorAll('.card[data-scroll-stagger]');
  
  const cardObserverOptions = {
    root: null,
    rootMargin: '0px 0px -50px 0px',
    threshold: 0.1
  };

  const cardObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const visibleCards = document.querySelectorAll('.card[data-scroll-stagger]:not(.is-visible)');
        visibleCards.forEach((card, index) => {
          const rect = card.getBoundingClientRect();
          const isInView = rect.top < window.innerHeight && rect.bottom > 0;
          
          if (isInView) {
            setTimeout(() => {
              card.classList.add('is-visible');
            }, index * 100); // 100msずつ遅延
          }
        });
      }
    });
  }, cardObserverOptions);

  cards.forEach(card => {
    // 画面内にすでにいるカードは即座に表示
    const rect = card.getBoundingClientRect();
    const isInView = rect.top < window.innerHeight && rect.bottom > 0;
    
    if (isInView) {
      card.classList.add('is-visible');
    } else {
      cardObserver.observe(card);
    }
  });
}
```

### 5.4 モーダル表示（動画対応）
```javascript
function openModal(item) {
  const mediaContainer = document.getElementById('modalMediaContainer');
  
  // 動画またはイメージを表示
  if (item.video) {
    mediaContainer.innerHTML = `
      <video class="modal-video" controls autoplay loop>
        <source src="${item.video}" type="video/mp4">
      </video>
    `;
  } else {
    mediaContainer.innerHTML = `
      <img src="${item.image}" alt="${item.title}" class="modal-image">
    `;
  }
  
  // その他の情報を設定
  document.getElementById('modalCategory').textContent = item.categoryLabel;
  document.getElementById('modalTitle').textContent = item.title;
  document.getElementById('modalDescription').textContent = item.description;
  document.getElementById('modalDate').textContent = item.date;
  
  // リンクボタンを生成
  const linksContainer = document.getElementById('modalLinks');
  linksContainer.innerHTML = '';
  
  if (item.url) {
    linksContainer.innerHTML += `
      <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="modal-link primary">
        View Site
      </a>
    `;
  }
  
  if (item.pdf) {
    linksContainer.innerHTML += `
      <a href="${item.pdf}" target="_blank" rel="noopener noreferrer" class="modal-link secondary">
        View PDF
      </a>
    `;
  }
  
  modal.classList.add('active');
  document.body.classList.add('no-scroll');
}
```

### 5.5 モーダル閉じる（動画停止）
```javascript
function closeModal() {
  const video = modal.querySelector('video');
  if (video) {
    video.pause();
    video.currentTime = 0;
  }
  modal.classList.remove('active');
  document.body.classList.remove('no-scroll');
}
```

### 5.6 初期化
```javascript
document.addEventListener('DOMContentLoaded', () => {
  // ギャラリーを描画
  renderGallery(portfolioData);
  
  // スクロールアニメーションを初期化
  initScrollAnimations();
  
  console.log('Portfolio Gallery initialized');
});
```

---

## 6. スクロールアニメーション仕様

### 6.1 使用可能なアニメーション種類

| 属性値 | 効果 |
|--------|------|
| `fade-up` | 下から上へフェードイン |
| `fade-down` | 上から下へフェードイン |
| `fade-left` | 右から左へフェードイン |
| `fade-right` | 左から右へフェードイン |
| `scale-up` | 小から大へスケールイン |
| `scale-down` | 大から小へスケールイン |
| `rotate-in` | 回転しながらフェードイン |
| `blur-in` | ブラーからクリアにフェードイン |

### 6.2 遅延オプション

`data-scroll-delay` 属性で遅延を設定（1-6）

```html
<div data-scroll="fade-up" data-scroll-delay="1">0.1秒遅延</div>
<div data-scroll="fade-up" data-scroll-delay="2">0.2秒遅延</div>
<div data-scroll="fade-up" data-scroll-delay="3">0.3秒遅延</div>
```

### 6.3 ギャラリーカードのスタガー効果

カードには `data-scroll-stagger` 属性が自動付与され、画面に入ると順次表示される。

---

## 7. テスト・検証

### 7.1 機能テスト
- [ ] ギャラリーカード表示
- [ ] カテゴリフィルター動作
- [ ] 検索機能動作
- [ ] モーダル開閉
- [ ] 動画再生・停止
- [ ] Xリンク（新規タブ）
- [ ] PDFリンク
- [ ] モバイルメニュー
- [ ] スクロールアニメーション動作

### 7.2 レスポンシブテスト
- [ ] スマートフォン（375px）
- [ ] タブレット（768px）
- [ ] デスクトップ（1280px）

### 7.3 ブラウザテスト
- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge

### 7.4 アクセシビリティテスト
- [ ] prefers-reduced-motion対応確認
- [ ] キーボード操作確認
- [ ] スクリーンリーダー対応確認

---

## 8. 更新履歴

| バージョン | 日付 | 内容 |
|-----------|------|------|
| 1.0 | 2026/02/18 | 初回作成 |
| 2.0 | 2026/02/18 | ダークテーマ、X対応、動画対応追加 |
| 2.1 | 2026/02/19 | スクロールアニメーション追加（Intersection Observer API使用） |
